"use strict";

/* eslint-disable */
// @ts-nocheck

function md5(t) { function n(t, n) { const r = (65535 & t) + (65535 & n); return (t >> 16) + (n >> 16) + (r >> 16) << 16 | 65535 & r } function r(t, r, e, c, o, u) { return n((a = n(n(r, t), n(c, u))) << (i = o) | a >>> 32 - i, e); var a, i } function e(t, n, e, c, o, u, a) { return r(n & e | ~n & c, t, n, o, u, a) } function c(t, n, e, c, o, u, a) { return r(n & c | e & ~c, t, n, o, u, a) } function o(t, n, e, c, o, u, a) { return r(n ^ e ^ c, t, n, o, u, a) } function u(t, n, e, c, o, u, a) { return r(e ^ (n | ~c), t, n, o, u, a) } function a(t) { let n = ""; for (let r = 0; r < 4; r++) { n += ("0" + (t >>> 8 * r & 255).toString(16)).slice(-2) } return n } const i = function (t) { const n = []; for (let r = 0; r < 8 * t.length; r += 8)n[r >> 5] |= (255 & t.charCodeAt(r / 8)) << r % 32; return n }(t); let f = 1732584193, s = 4023233417, l = 2562383102, d = 271733878; i[8 * t.length >> 5] |= 128 << 8 * t.length % 32, i[14 + (8 * t.length + 64 >>> 9 << 4)] = 8 * t.length; for (let t = 0; t < i.length; t += 16) { const r = f, a = s, w = l, _ = d; f = e(f, s, l, d, i[t + 0], 7, 3614090360), d = e(d, f, s, l, i[t + 1], 12, 3905402710), l = e(l, d, f, s, i[t + 2], 17, 606105819), s = e(s, l, d, f, i[t + 3], 22, 3250441966), f = e(f, s, l, d, i[t + 4], 7, 4118548399), d = e(d, f, s, l, i[t + 5], 12, 1200080426), l = e(l, d, f, s, i[t + 6], 17, 2821735955), s = e(s, l, d, f, i[t + 7], 22, 4249261313), f = e(f, s, l, d, i[t + 8], 7, 1770035416), d = e(d, f, s, l, i[t + 9], 12, 2336552879), l = e(l, d, f, s, i[t + 10], 17, 4294925233), s = e(s, l, d, f, i[t + 11], 22, 2304563134), f = e(f, s, l, d, i[t + 12], 7, 1804603682), d = e(d, f, s, l, i[t + 13], 12, 4254626195), l = e(l, d, f, s, i[t + 14], 17, 2792965006), s = e(s, l, d, f, i[t + 15], 22, 1236535329), f = c(f, s, l, d, i[t + 1], 5, 4129170786), d = c(d, f, s, l, i[t + 6], 9, 3225465664), l = c(l, d, f, s, i[t + 11], 14, 643717713), s = c(s, l, d, f, i[t + 0], 20, 3921069994), f = c(f, s, l, d, i[t + 5], 5, 3593408605), d = c(d, f, s, l, i[t + 10], 9, 38016083), l = c(l, d, f, s, i[t + 15], 14, 3634488961), s = c(s, l, d, f, i[t + 4], 20, 3889429448), f = c(f, s, l, d, i[t + 9], 5, 568446438), d = c(d, f, s, l, i[t + 14], 9, 3275163606), l = c(l, d, f, s, i[t + 3], 14, 4107603335), s = c(s, l, d, f, i[t + 8], 20, 1163531501), f = c(f, s, l, d, i[t + 13], 5, 2850285829), d = c(d, f, s, l, i[t + 2], 9, 4243563512), l = c(l, d, f, s, i[t + 7], 14, 1735328473), s = c(s, l, d, f, i[t + 12], 20, 2368359562), f = o(f, s, l, d, i[t + 5], 4, 4294588738), d = o(d, f, s, l, i[t + 8], 11, 2272392833), l = o(l, d, f, s, i[t + 11], 16, 1839030562), s = o(s, l, d, f, i[t + 14], 23, 4259657740), f = o(f, s, l, d, i[t + 1], 4, 2763975236), d = o(d, f, s, l, i[t + 4], 11, 1272893353), l = o(l, d, f, s, i[t + 7], 16, 4139469664), s = o(s, l, d, f, i[t + 10], 23, 3200236656), f = o(f, s, l, d, i[t + 13], 4, 681279174), d = o(d, f, s, l, i[t + 0], 11, 3936430074), l = o(l, d, f, s, i[t + 3], 16, 3572445317), s = o(s, l, d, f, i[t + 6], 23, 76029189), f = o(f, s, l, d, i[t + 9], 4, 3654602809), d = o(d, f, s, l, i[t + 12], 11, 3873151461), l = o(l, d, f, s, i[t + 15], 16, 530742520), s = o(s, l, d, f, i[t + 2], 23, 3299628645), f = u(f, s, l, d, i[t + 0], 6, 4096336452), d = u(d, f, s, l, i[t + 7], 10, 1126891415), l = u(l, d, f, s, i[t + 14], 15, 2878612391), s = u(s, l, d, f, i[t + 5], 21, 4237533241), f = u(f, s, l, d, i[t + 12], 6, 1700485571), d = u(d, f, s, l, i[t + 3], 10, 2399980690), l = u(l, d, f, s, i[t + 10], 15, 4293915773), s = u(s, l, d, f, i[t + 1], 21, 2240044497), f = u(f, s, l, d, i[t + 8], 6, 1873313359), d = u(d, f, s, l, i[t + 15], 10, 4264355552), l = u(l, d, f, s, i[t + 6], 15, 2734768916), s = u(s, l, d, f, i[t + 13], 21, 1309151649), f = u(f, s, l, d, i[t + 4], 6, 4149444226), d = u(d, f, s, l, i[t + 11], 10, 3174756917), l = u(l, d, f, s, i[t + 2], 15, 718787259), s = u(s, l, d, f, i[t + 9], 21, 3951481745), f = n(f, r), s = n(s, a), l = n(l, w), d = n(d, _) } return (a(f) + a(s) + a(l) + a(d)).toLowerCase() } const _0xc = { _k1: atob("SWFBVHJ3TFZHVGREY0txMQ=="), _s: atob("aVRlcmFQbGF5X1NhbHRfNTIzZmQ5MTFhM2M0ZWVhNGU2YjBmYmQxX1NlY3VyZQ=="), _p: atob("aVRlcmFQbGF5X1BlcHBlcl9iNjNmYTZkNTczYzcwYzk0ODZlNGVlNDlfUHJvdGVjdGVk"), _tw: 30 }; function _0xh2b(t) { const n = new Uint8Array(t.length / 2); for (let r = 0; r < t.length; r += 2)n[r / 2] = parseInt(t.substr(r, 2), 16); return n } function _0xmd5(t) { return md5(t) } async function _0xsha256(t) { const n = (new TextEncoder).encode(t), r = await crypto.subtle.digest("SHA-256", n); return new Uint8Array(r) }

export async function decryptSecureCookie(t) {
    if (typeof window === 'undefined') {
        // Basic check for server-side execution where crypto might behave differently or be missing subtle.
        // However, Node 18+ has global crypto.
    }

    try { const n = atob(t), r = n.substring(0, 16), e = n.substring(16, 40), c = n.substring(40, 72), o = n.substring(72), u = _0xh2b(e), a = _0xh2b(c), i = _0xh2b(o), f = Math.floor(Date.now() / 1e3), s = Math.floor(f / _0xc._tw); for (let t = -5000; t <= 5000; t++)try { const n = _0xmd5(s + t + _0xc._s).substring(0, 16), e = _0xmd5(r + _0xc._p).substring(0, 16), c = _0xc._k1 + n + e, o = await _0xsha256(c), f = await crypto.subtle.importKey("raw", o, { name: "AES-GCM" }, !1, ["decrypt"]), l = new Uint8Array(i.length + a.length); l.set(i), l.set(a, i.length); const d = await crypto.subtle.decrypt({ name: "AES-GCM", iv: u }, f, l), w = (new TextDecoder).decode(d); console.log("Decrypted successfully with offset:", t); return JSON.parse(w) } catch (t) { continue } console.error("Decryption failed after trying all time offsets."); return JSON.parse(atob(t)) } catch (n) { console.error("Decryption error:", n); try { return JSON.parse(atob(t)) } catch (t) { return null } }
}
